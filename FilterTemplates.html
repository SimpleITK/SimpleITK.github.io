

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developer &mdash; SimpleITK 1.2.0.dev documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="link_examples.html" />
    <link rel="prev" title="Frequently Asked Questions" href="faq.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SimpleITK
          

          
            
            <img src="_static/simpleitk_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="fundamentalConcepts.html">Fundamental Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="registrationOverview.html">Registration Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="conventions.html">Common Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="IO.html">Reading and Writing for Images and Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">SimpleITK Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building SimpleITK</a></li>
<li class="toctree-l1"><a class="reference internal" href="setUp.html">Setting Up Eclipse and Visual Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialsAndCourses.html">Tutorials and Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#image-filter-templates-readme">Image Filter Templates ReadMe</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-file-structure">JSON File Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fields-for-all-templates">Fields For All Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#top-level-fields">Top Level Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memberfields-member-fields">MemberFields Member Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testfields-test-fields">TestFields Test Fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#settings-options">Settings Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#structure-directory-structure">Structure Directory Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#templates-specialized-templates">Templates Specialized Templates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="link_examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SimpleITK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Developer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/FilterTemplates.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developer">
<h1>Developer<a class="headerlink" href="#developer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="image-filter-templates-readme">
<h2>Image Filter Templates ReadMe<a class="headerlink" href="#image-filter-templates-readme" title="Permalink to this headline">¶</a></h2>
<p>This document outlines the system used to generate SimpleITK files using
json data files in conjunction with the template .h and .cxx files.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>In order to create a uniform body of image filters, we use an automated
code generation system to wrap existing ITK filters into SimpleITK
filters. The development process consists of writing a JSON data file
which specifies the information needed to fill in the fields of the
template file. During compilation, all of the .json files are parsed
using a lua template engine which fills in the appropriate template file
from the provided fields. This ReadMe provides a detailed description of
the fields that can be used in the json data files and what effect each
field has on the resulting image filter. When writing your own json
file, it should be saved in:
<code class="docutils literal notranslate"><span class="pre">SimpleITK_SOURCE_DIR/Code/$FILTER_DIR/json</span></code></p>
<p>Here <code class="docutils literal notranslate"><span class="pre">$FILTER_DIR</span></code> is the directory in which the code for the
generated filter should live. For simple filters this is the
“BasicFilters” directory.</p>
</div>
<div class="section" id="json-file-structure">
<h2>JSON File Structure<a class="headerlink" href="#json-file-structure" title="Permalink to this headline">¶</a></h2>
<p>JSON (JavaScript Object Notation) is a simple text formatting system
used to specify data values. A full description of the specification can
be found at <a class="reference external" href="http://www.json.org/">http://www.json.org/</a>. For the purposes of SimpleITK, a json
file consists of a single data object (denoted by {}) which contains
several string : value pairs (here value may be a list denoted by [])
and sub-objects. Here is an example from LaplacianRecursiveGaussian:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;LaplacianRecursiveGaussianImageFilter&quot;</span><span class="p">,</span>
  <span class="s2">&quot;template_code_filename&quot;</span> <span class="p">:</span> <span class="s2">&quot;ImageFilter&quot;</span><span class="p">,</span>
  <span class="s2">&quot;template_test_filename&quot;</span> <span class="p">:</span> <span class="s2">&quot;ImageFilter&quot;</span><span class="p">,</span>
  <span class="s2">&quot;doc&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;number_of_inputs&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;pixel_types&quot;</span> <span class="p">:</span> <span class="s2">&quot;BasicPixelIDTypeList&quot;</span><span class="p">,</span>
  <span class="s2">&quot;output_pixel_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
  <span class="s2">&quot;members&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Sigma&quot;</span><span class="p">,</span>
      <span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span>
      <span class="s2">&quot;default&quot;</span> <span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;doc&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;briefdescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;detaileddescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;Set Sigma value. Sigma is measured in the units of image spacing.&quot;</span><span class="p">,</span>
      <span class="s2">&quot;briefdescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;detaileddescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;Set Sigma value. Sigma is measured in the units of image spacing.&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;NormalizeAcrossScale&quot;</span><span class="p">,</span>
      <span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
      <span class="s2">&quot;default&quot;</span> <span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
      <span class="s2">&quot;doc&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;briefdescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;detaileddescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;Define which normalization factor will be used for the Gaussian </span><span class="se">\\</span><span class="s2">see RecursiveGaussianImageFilter::SetNormalizeAcrossScale&quot;</span><span class="p">,</span>
      <span class="s2">&quot;briefdescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;detaileddescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;Define which normalization factor will be used for the Gaussian </span><span class="se">\\</span><span class="s2">see RecursiveGaussianImageFilter::SetNormalizeAcrossScale&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;tests&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;tag&quot;</span> <span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span> <span class="p">:</span> <span class="s2">&quot;Simply run with default settings&quot;</span><span class="p">,</span>
      <span class="s2">&quot;settings&quot;</span> <span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;tolerance&quot;</span> <span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
      <span class="s2">&quot;inputs&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Input/RA-Float.nrrd&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;briefdescription&quot;</span> <span class="p">:</span> <span class="s2">&quot;Computes the Laplacian of Gaussian (LoG) of an image.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;detaileddescription&quot;</span> <span class="p">:</span> <span class="s2">&quot;Computes the Laplacian of Gaussian (LoG) of an image by convolution with the second derivative of a Gaussian. This filter is implemented using the recursive gaussian filters.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;itk_module&quot;</span> <span class="p">:</span> <span class="s2">&quot;ITKImageFeature&quot;</span><span class="p">,</span>
  <span class="s2">&quot;itk_group&quot;</span> <span class="p">:</span> <span class="s2">&quot;ImageFeature&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this example, we see that all pairs must use a string as the key, but
may have any valid type as the value (string - “Abs”, number - 1, list -
[], object - {}).</p>
<div class="section" id="fields-for-all-templates">
<h3>Fields For All Templates<a class="headerlink" href="#fields-for-all-templates" title="Permalink to this headline">¶</a></h3>
<p>This section describes the minimal set of fields required to wrap an ITK
filter into SimpleITK.</p>
</div>
<div class="section" id="top-level-fields">
<h3>Top Level Fields<a class="headerlink" href="#top-level-fields" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>name</strong>: (<em>string</em>) This must be the name of the ITK filter.</li>
<li><strong>template_code_filename</strong>: (<em>string</em>) Which of the template files
should be used to generate the filter. Choices are: “ImageFilter”,
“RegionGrowingImageFilter”, “StructuringElementImageFilter”,
“LevelSetImageFilter”, “MathematicalMorphologyImageFilter”</li>
<li><strong>template_test_filename</strong>: (<em>string</em>) Which of the template files
should be used to generate the test for this filter. Choices are:
“ImageFilter”, “RegionGrowingImageFilter”</li>
<li><strong>number_of_inputs</strong>: (<em>integer</em>) How many input images are used for
this filter. Currently, the template system only supports filters
with 1 or 2 input images</li>
<li><strong>briefdescription</strong>: (<em>string</em>) Brief description of the class
(Doxygen format). This string is automatically generated by the
Utilities/BuildDocs and Utilities/GenerateDocumentation.groovy
scripts. If no corresponding ITK class exists, this field will not be
modified. This field is maintained with the JSONDocUpdate.sh script.</li>
<li><strong>detaileddescription</strong>: (<em>string</em>) More detailed description of the
class (Doxygen format). This string is automatically generated by the
Utilities/BuildDocs and Utilities/GenerateDocumentation.groovy
scripts. If no corresponding ITK class exists, this field will not be
modified. This field is maintained with the JSONDocUpdate.sh script.</li>
<li><strong>pixel_types</strong>: (<em>string</em>) Which of the pixel type lists should be
supported for this filter. The type lists are defined in
sitkPixelIDTypeLists.h</li>
<li><strong>members</strong>: (<em>list</em>) This list specifies all member variables that
should be accessible to the user with a Get/Set mechanism and should
be part of the Execute signature for the filter. Each entry in the
list must be an object</li>
<li><strong>tests</strong>: (<em>list</em>) This list specifies all automatic tests that
should be generated for the filter. Each entry in the list must be an
object. If no tests are specified, a test will be generated that
fails with the message that a test must be written for the filter</li>
<li><strong>itk_module</strong>: (<em>string</em>) A string naming the ITK module the filter
originates from. If the ITK installation used for building SimpleITK
does not have this named module then the filter will be omitted in
SimpleITK. This filed is maintained JSONUpdateITKModules.py script.</li>
<li><strong>itk_group</strong>: (<em>string</em>) A string naming the ITK group the ITK
filter originates.</li>
<li>[OPTIONAL] <strong>include_files</strong>: (<em>list</em>) This list of strings specifies
additional header files to include in the cxx file for this filter.</li>
<li>[OPTIONAL] <strong>custom_set_intput</strong>: (<em>string</em>) Code which is used to
set input or multiple inputs to the filter. This overrides the
standard setting of the inputs.</li>
<li>[OPTIONAL] <strong>output_pixel_type</strong>: (<em>string</em>) String representing the
specific pixel type to use for the output image of the filter.</li>
<li>[OPTIONAL] <strong>filter_type</strong>: (<em>string</em>) Explicitly sets the FilterType
used. This method overrides additional_template_types. Useful
typedefs are InputImageType, and OutputImageType.</li>
<li>[OPTIONAL] <strong>public_declarations</strong>: (<em>string</em>) Any c++ code written
in this field will be placed into the public section of the filter’s
header file</li>
<li>[OPTIONAL] <strong>additional_template_types</strong>: (<em>list</em>) The standard ITK
image filter template signature is:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">InputImageType</span><span class="p">,</span> <span class="p">(</span><span class="k">if</span> <span class="mi">2</span> <span class="n">inputs</span><span class="p">)</span><span class="n">InputImageType</span><span class="p">,</span> <span class="n">OutputImageType</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Some filters require additional template types between the list of input
image types and the output image type such as the input type of a
constant. This list allows these additional parameters to be added so
that the template signature looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">InputImageType</span><span class="p">,</span> <span class="p">(</span><span class="k">if</span> <span class="mi">2</span> <span class="n">inputs</span><span class="p">)</span><span class="n">InputImageType</span><span class="p">,</span> <span class="p">(</span><span class="n">ADDITIONAL</span> <span class="n">TYPES</span><span class="p">),</span> <span class="n">OutputImageType</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Each type in the list is specified by an object with a only a <strong>type</strong>
field which is a string specifying the type to be used.</p>
<ul class="simple">
<li>[OPTIONAL] <strong>custom_methods</strong>: (<em>list</em>) This is a list of objects
specifying custom methods that should be added to the filter. The
fields required for a custom method are:<ul>
<li><strong>doc</strong>: (<em>string</em>) Documentation for this custom method</li>
<li><strong>name</strong>: (<em>string</em>) The name of the method</li>
<li><strong>return_type:</strong> (<em>string</em>) the return type of the method</li>
<li>[OPTIONAL] <strong>parameters</strong>: (<em>list</em>) A list of parameters for the
method. Each method is specified by an object with the following
fields:<ul>
<li><strong>type</strong>: (<em>string</em>) The parameter’s type</li>
<li><strong>var_name</strong>: (<em>string</em>) The name of the variable to be used in
the **body field for the custom method</li>
</ul>
</li>
<li><strong>body</strong>: (<em>string</em>) This string is the body of the method and
will be placed directly into the header file. The parameter names
specified with <strong>var_name</strong> in each of the parameter objects can
be used in this body</li>
</ul>
</li>
</ul>
<p>A sample custom method might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Foo&quot;</span><span class="p">,</span>
  <span class="s2">&quot;doc&quot;</span> <span class="p">:</span> <span class="s2">&quot;This method checks if a string is equal to Foo&quot;</span>
  <span class="s2">&quot;return_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
  <span class="s2">&quot;parameters&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;std::string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;var_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;inString&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;body&quot;</span> <span class="p">:</span> <span class="s2">&quot;if (!strcmp(inString.c_str(), &quot;</span><span class="n">Foo</span><span class="s2">&quot;)) { return true; } else { return false; }&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will translate to a custom method that looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/**
 * This method checks if a string is equal to Foo
 */
bool Foo( std::string inString )
  {
  if (!strcmp(inString.c_str(), &quot;Foo&quot;)) { return true; } else { return false; }
  }
</pre></div>
</div>
</div>
<div class="section" id="memberfields-member-fields">
<h3>MemberFields Member Fields<a class="headerlink" href="#memberfields-member-fields" title="Permalink to this headline">¶</a></h3>
<p>A basic member object looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Sigma&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span>
  <span class="s2">&quot;default&quot;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
  <span class="s2">&quot;briefdescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;detaileddescriptionSet&quot;</span> <span class="p">:</span> <span class="s2">&quot;Define which normalization factor will be used for the Gaussian</span><span class="se">\\</span><span class="s2">see RecursiveGaussianImageFilter::SetNormalizeAcrossScale</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span>
  <span class="s2">&quot;briefdescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;detaileddescriptionGet&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span>
 <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>name</strong>: (<em>string</em>) The name of the member variable. A variable
named “Var” will be accessible with the methods “GetVar” and “SetVar”</li>
<li><strong>type</strong>: (<em>string</em>) The c++ type for this member. If using a type
contained in a certain namespace (itk::simple for example), this must
be included in the type description. If the member variable is of
type bool, the additional ${name}On, and ${name}Off member functions
are added.</li>
<li><strong>default</strong>: (<em>string</em> or <em>number</em>) The default value for this
member. This can be a number for numerical types or a string
specifying the constructor for non-basic types (std::vector&lt; unsigned
int &gt;() for example)</li>
<li><strong>briefdescriptionSet/briefdescriptionGet</strong>: (<em>string</em>) Brief Doxygen
documentation for this individual parameter. The two forms (Set/Get)
are used for the SetMember and GetMember functions. This field is
automatically generated from ITK’s Doxygen for members that mirror
ITK’s members. If the member if a custom, this field will not be
modified.</li>
<li><strong>detaileddescriptionSet/detaileddescriptionGet</strong>: (<em>string</em>)
Detailed Doxygen documentation for this individual parameter. The two
forms (Set/Get) are used for the SetMember and GetMember functions.
This field is automatically generated from ITK’s Doxygen for members
that mirror ITK’s members. If the member if a custom, this field will
not be modified.</li>
<li>[OPTIONAL] <strong>no_set_method</strong>: (0 or 1) If set to 1, the filter will
not have a Set method for this member</li>
<li>[OPTIONAL] <strong>no_get_method</strong>: (0 or 1) If set to 1, the filter will
not have a Get method for this member</li>
<li>[OPTIONAL] <strong>no_print</strong>: (0 or 1) If set to 1, this member will not
be printed in the ToString method</li>
<li>[OPTIONAL] <strong>dim_vec</strong>: (0 or 1) If set to 1, this indicates that the
member is a std::vector with size equal to the dimension of the input
image. As such, it will be printed out correctly and cast to its
corresponding ITK type correctly</li>
<li>[OPTIONAL] <strong>set_as_scalar</strong>: (0 or 1) If parameter is a dim_vec,
then this method adds an additional set member method to set the
variable as a scalar so that all components are the same</li>
<li>[OPTIONAL] <strong>enum</strong>: <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;enum1&quot;,</span> <span class="pre">&quot;enum2&quot;,</span> <span class="pre">...</span> <span class="pre">]</span></code> Creates a member
type of the class with the array of strings with a type defined by
the name of this parameter. This field makes the “type” parameter
optional. It is recommended to add a test to ensure the SimpleITK
values correspond to the ITK values.</li>
<li>[OPTIONAL] <strong>custom_itk_cast</strong>: (<em>string</em>) Some non-basic types will
require a custom cast before the corresponding ITK filter’s member
can be set. This field allows the developer to specify exactly how
the ITK filter sets the member’s value from the SimpleITK member’s
value for example:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;custom_itk_cast&quot;</span> <span class="p">:</span>
  <span class="s2">&quot;filter-&gt;SetObjectValue(static_cast&lt;typename FilterType::PixelType&gt;(this-&gt;GetObjectValue()) );&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="testfields-test-fields">
<h3>TestFields Test Fields<a class="headerlink" href="#testfields-test-fields" title="Permalink to this headline">¶</a></h3>
<p>A basic test object looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;tag&quot;</span> <span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span> <span class="p">:</span> <span class="s2">&quot;Dilate a float image&quot;</span><span class="p">,</span>
  <span class="s2">&quot;inputA&quot;</span> <span class="p">:</span> <span class="s2">&quot;Input/RA-Slice-Float.nrrd&quot;</span><span class="p">,</span>
  <span class="s2">&quot;tolerance&quot;</span> <span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
  <span class="s2">&quot;settings&quot;</span> <span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are three ways of checking the resulting image: against a baseline
image, a sha1 hash, or an md5 hash. At least one of these options must
be used for each test.</p>
<ul class="simple">
<li><strong>tag</strong>: (<em>string</em>) The tag to identify this specific test for the
filter</li>
<li><strong>description</strong>: (<em>string</em>) Documentation to describe this specific
test</li>
<li><strong>inputA</strong>: (<em>string</em>) The path from the SOURCE_DIR/Testing/Data
directory for the (first) input image</li>
<li><strong>inputA_cast</strong>: (<em>string</em>) an <code class="docutils literal notranslate"><span class="pre">sitkPixelIDEnum</span></code>, after inputA is
read the CastImageFilter is run, to covert the image type.</li>
<li>[OPTIONAL] <strong>inputB</strong>: (<em>string</em>) If <strong>number_of_inputs</strong> is 2, this
specifies the path from SOURCE_DIR/Testing/Data to the second input
image</li>
<li>[OPTIONAL] <strong>tolerance</strong>: (<em>float</em>) An error tolerance fo be used
when comparing the resulting image to the baseline. This is used to
specify that the result should be checked against a baseline image</li>
<li>[OPTIONAL] <strong>md5hash</strong>: (<em>string</em>) An md5 hash value to compare the
resulting image against.</li>
<li>[OPTIONAL] <strong>sha1hash</strong>: (<em>string</em>) A sha1 hash value to compare the
resulting image against.</li>
<li>[OPTIONAL] <strong>settings</strong>: (<em>list</em>) A list of any specific parameters
values for this test. Each entry is an object of the form:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;parameter&quot;</span> <span class="p">:</span> <span class="s2">&quot;Sigma&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span> <span class="p">:</span> <span class="mf">1.0</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="settings-options">
<h4>Settings Options<a class="headerlink" href="#settings-options" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>parameter</strong>: (<em>string</em>) The name of the parameter. This must match
the name used when creating the filter</li>
<li><strong>value</strong>: (<em>string</em> or <em>number</em>) The value to assign to the
parameter. This can be a number for numerical types or a string
representing the constructor for more complex types</li>
<li>[OPTIONAL] <strong>python_value</strong>: (<em>string</em>) For types that require a
different syntax for setting the value in python, this will override
the string in <strong>value</strong></li>
<li>[OPTIONAL] <strong>lua_value</strong>: (<em>string</em>) For types that require a
different syntax for setting the value in lua, this will override the
string in <strong>value</strong></li>
<li>[OPTIONAL] <strong>ruby_value</strong>: (<em>string</em>) For types that require a
different syntax for setting the value in ruby, this will override
the string in <strong>value</strong></li>
<li>[OPTIONAL] <strong>java_value</strong>: (<em>string</em>) For types that require a
different syntax for setting the value in java, this will override
the string in <strong>value</strong></li>
<li>[OPTIONAL] <strong>tcl_value</strong>: (<em>string</em>) For types that require a
different syntax for setting the value in tcl, this will override the
string in <strong>value</strong></li>
<li>[OPTIONAL] <strong>R_value</strong>: (<em>string</em>) For types that require a different
syntax for setting the value in R, this will override the string in
<strong>value</strong></li>
<li>[OPTIONAL] <strong>dim_vec</strong> (0 or 1): Use this flag if this parameter is a
std::vector. If set to 1, the <strong>type</strong> option must also be set</li>
<li>[OPTIONAL] <strong>no_get_method</strong>: (0 or 1). Set to 1 when the filter does
not have a get method, so that this method will not be tested.</li>
<li>[OPTIONAL] <strong>type</strong>: (<em>string</em>): What type the vector should be. Due
to constraints with java, this should only be a primitive type. For
unsigned types, the java test will convert to the signed equivalent.
An example for a <code class="docutils literal notranslate"><span class="pre">dim_vec</span></code> parameter is:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;parameter&quot;</span> <span class="p">:</span> <span class="s2">&quot;Size&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dim_vec&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;unsigned int&quot;</span>
  <span class="s2">&quot;value&quot;</span> <span class="p">:</span> <span class="s2">&quot;{1,2}&quot;</span><span class="p">,</span>
  <span class="s2">&quot;java_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;{1,2}&quot;</span><span class="p">,</span>
  <span class="s2">&quot;tcl_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;[list 1 2]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;python_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;[1,2]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;lua_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;{1,2}&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ruby_value&quot;</span> <span class="p">:</span> <span class="s2">&quot;[1,2]&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="structure-directory-structure">
<h3>Structure Directory Structure<a class="headerlink" href="#structure-directory-structure" title="Permalink to this headline">¶</a></h3>
<p>The code generation system is designed to be agnostic of what
subdirectory is being parsed. An example of this is BasicFilters. Here
will just refer to <code class="docutils literal notranslate"><span class="pre">$FILTER_DIR</span></code></p>
<p>There are four important subdirectories in
<code class="docutils literal notranslate"><span class="pre">$SimpleITK_SOURCE_DIR/Code/$FILTER_DIR</span></code>:</p>
<ul class="simple">
<li>include: Manually written header files</li>
<li>src: Manually written c++ files</li>
<li>json: The input json files used to generate new filters at build time</li>
<li>templates: The code templates that can be used to generate filters
for this directory</li>
</ul>
<p>When a filter is generated, it produces a .h and a .cxx file that are
placed in <code class="docutils literal notranslate"><span class="pre">$SimpleITK_BUILD_DIR/Code/$FILTER_DIR/include</span></code> and
<code class="docutils literal notranslate"><span class="pre">$SimpleITK_BUILD_DIR/Code/$FILTER_DIR/src</span></code> respectively.</p>
<p>It is also worth noting that the template files in the templates
directory are comprised of a combination of c++ code, lua template
expansion directives, and <code class="docutils literal notranslate"><span class="pre">$(include</span> <span class="pre">xxx)</span></code> statements. These include
statements each pull in a section of template code from a file in
$SimpleITK_SOURCE_DIR/ExpandTemplateGenerator/Components. These
component files represent pieces of templates that are shared by
multiple unique filter template types.</p>
</div>
<div class="section" id="templates-specialized-templates">
<h3>Templates Specialized Templates<a class="headerlink" href="#templates-specialized-templates" title="Permalink to this headline">¶</a></h3>
<p>The standard template is ImageFilter. This section describes the
differences for each of the other template types.</p>
<ul class="simple">
<li><strong>Region Growing Image Filters</strong>: The region growing filters support
an additional set of methods for manipulating the seed list. Each
region growing filter has the SetSeed, AddSeed, and ClearSeeds
methods. See sitkConnectedThresholdImageFilter.h for details.</li>
<li><strong>Kernel Image Filters</strong>: The kernel image filters use a KernelType
and have an external enum which allows the user to select which
kernel to use. See sitkErodeObjectMorphologyImageFilter.h for
details.</li>
<li><strong>Dual Image Filter</strong>: The dual image filter template’s usage should
be avoided because it instantiates the combination of two pixel type
lists.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="link_examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="faq.html" class="btn btn-neutral float-left" title="Frequently Asked Questions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Insight Software Consortium

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>